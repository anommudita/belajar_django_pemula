<!-- file dari config html -->
{% extends 'main.html' %}


<!-- wrapping content -->
{% block content %}

    <!-- flash message -->
    {% for message in messages %}
    <div class="container-fluid p-0">

        <div class="alert {{ message.tags }} alert-dismissible fade show col-6" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
    {% endfor %}
    
    <div class="row">
        <!-- All Devices -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">
                                All Devices</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ all_devices }}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fa-regular fa-user fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cisco -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                Cisco</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ cisco_device }}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fa-regular fa-hard-drive fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mikrotik -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                Mikrotik</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ mikrotik_device }}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-server fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- list Devices -->
        <div class="col-12 col-lg-12 col-xxl-12 order-xxl-4">
                        <div class="card flex-fill">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="card-title mb-0">List Devices</h5>
                    <a href="tambah-devices" class="btn btn-primary ml-auto">insert</a>
                </div>
                <table class="table table-hover my-0" id="dataTable" style="width: 100%">
                    <thead>
                        <tr>
                            <th class="d-none d-xl-table-cell" scope="col" width="5%">No</th>
                            <th class="d-none d-xl-table-cell" scope="col" width="12%">Hostname</th>
                            <th scope="col" width="12%">IP Address</th>
                            <th scope="col" width="10%">Username</th>
                            <th scope="col" width="15%">Vendor</th>
                            <th scope="col" width="10%">Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in devices %}  
                            <tr>
                                <td class="no_urut">{{ forloop.counter }}</td>
                                <td>{{ row.hostname }}</td>
                                <td>{{ row.ip_address }}</td>
                                <td>{{ row.username }}</td>  
                                <td>{{ row.vendor }}</td>
                                <td>
                                    <a href="/edit-device/{{ row.id }}" class="btn btn-success">Edit</a>
                                    <a href="/delete-device/{{ row.id }}" class="btn btn-danger delete-user" onclick="return confirm('are you sure you want to delete it?')">Delete</a>
                                </td>  
                            </tr>
                        {% endfor %} 
                    </tbody>
                </table>
            </div>
        </div>
    </div>




{% endblock content %}